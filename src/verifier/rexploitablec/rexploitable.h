#include <errno.h>
#include <inttypes.h>
#include <signal.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <unistd.h>
#include <assert.h>
#include <amqp.h>
#include <amqp_tcp_socket.h>

#include "utils/ini.h"
#include "utils/log.h"
#include "utils/b64.h"
#include "utils/json-builder.h"

#define MATCH(s, n) strcmp(section, s) == 0 && strcmp(name, n) == 0

typedef struct
{
  const char* host;
  int port;
  const char* queue_name;
  const char* gdbserver;
  const char* gdbserver_address;
  const char* target;
  const char* argv;
  const char* temporary_file_template;
  int timeout;
  int log_level;
} configuration;

typedef struct
{
  char* crash_path;
  char* decoded_crash;
  int decoded_crash_size;
} crash;
